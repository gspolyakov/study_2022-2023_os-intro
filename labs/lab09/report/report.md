---
## Front matter
title: "Шаблон отчёта по лабораторной работе"
subtitle: "Простейший вариант"
author: "Дмитрий Сергеевич Кулябов"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором Emacs.

# Задание

1. Ознакомиться с теоретическим материалом. 
2. Ознакомиться с редактором emacs.
3. Выполнить упражнения.
4. Ответить на контрольные вопросы.

# Теоретическое введение

### Основные термины Emacs

**Определение 1.**

Буфер — объект, представляющий какой-либо текст.
Буфер может содержать что угодно, например, результаты компиляции программы или встроенные подсказки. Практически всё взаимодействие с пользователем, в том числе интерактивное, происходит посредством буферов.

**Определение 2.**

Фрейм соответствует окну в обычном понимании этого слова. Каждый фрейм содержит область вывода и одно или несколько окон Emacs.

**Определение 3.**

Окно — прямоугольная область фрейма, отображающая один из буферов.
Каждое окно имеет свою строку состояния, в которой выводится следующая информация: название буфера, его основной режим, изменялся ли текст буфера и как далеко вниз по буферу расположен курсор. Каждый буфер находится только в одном из возможных основных режимов. Существующие основные режимы включают режим Fundamental (наименее специализированный), режим Text, режим Lisp, режим С, режим Texinfo и другие. Под второстепенными режимами понимается список режимов, которые включены в данный момент в буфере выбранного окна.

**Определение4.**

Область вывода — одна или несколько строк внизу фрейма, в которой Emacs выводит различные сообщения, а также запрашивает подтверждения и дополнительную информацию от пользователя.

**Определение5.**

Мини буфер используется для ввода дополнительной информации и всегда отображается в области вывода.

**Определение6.**

Точка вставки — место вставки (удаления) данных в буфере. 

### Основы работы в Emacs

Для запуска Emacs необходимо в командной строке набрать emacs (или emacs & для работы в фоновом режиме относительно консоли).

Для работы с Emacs можно использовать как элементы меню, так и различные сочетания клавиш. Например, для выхода из Emacs можно воспользоваться меню File и выбрать пункт Quit , а можно нажать последовательно Ctrl-x Ctrl-c (в обозначениях Emacs: C-x C-c).

Многие рутинные операции в Emacs удобнее производить с помощью клавиатуры, а не графического меню. Наиболее часто в командах Emacs используются сочетания c клавишами Ctrl и Meta (в обозначениях Emacs: C- и M-; клавиша Shift в Emasc обозначается как S-). Так как на клавиатуре для IBMPC совместимых ПК клавиши Meta нет,товместо неё можно использовать Alt или Esc. Для доступа к системе меню используйте клавишу F10 .

Клавиши Ctrl , Meta и Shift принято называть префиксными. Например, запись M-x означает, что надо удерживая клавишу Meta (или Alt), нажать на клавишу x. Для открытия файла следует использовать команду C-x C-f (надо, удерживая клавишу Ctrl , нажать на клавишу x , затем отпустить обе клавиши и снова, удерживая клавишу Ctrl , нажать на клавишу f ).
По назначению префиксные сочетания клавиш различаются следующим образом:

- C-x— префикс ввода основных команд редактора (например, открытия, закрытии, сохранения файла и т.д.);
- C-c— префикс вызова функций, зависящих от используемого режима.

**Определение 7.**

Режим — пакет расширений, изменяющий поведение буфера Emacs при редактировании и просмотре текста (например, для редактирования исходного текста программ на языках С или Perl).

В табл. 9.1 приведены основные комбинации клавиш, используемые для перемещения курсора в буфере Emacs (также работают и обычные навигационные клавиши, например, стрелки).

| Комбинация клавиш | Действие |
|-------------------|----------|
| C-p | переместиться вверх на одну строку |
| C-n | переместиться вниз на одну строку |
| C-f | переместиться вперёд на один символ |
| C-b | переместиться назад на один символ |
| C-a | переместиться в начало строки |
| C-e | переместиться в конец строки |
| C-v | переместиться вниз на одну страницу |
| M-v | переместиться вверх на одну страницу |
| M-f | переместиться вперёд на одно слово |
| M-b | переместиться назад на одно слово |
| M-< | переместиться в начало буфера |
| M-> | переместиться в конец буфера |
| C-g | закончить текущую операцию |

Далее в табл. 9.2–9.7 приведены наиболее часто используемые комбинации клавиш для выполнения действий в Emacs.

**Таблица 9.2 Основные комбинации клавиш для работы с текстом в Emacs**

| Комбинация клавиш | Действие |
|-------------------|----------|
| C-d | Удалить символ перед текущим положением курсора |
| M-d | Удалить следующее за текущим положением курсора слово|
| C-k | Удалить текст от текущего положения курсора до конца строки |
| M-k | Удалить текст от текущего положения курсора до конца предложения|
| M-\ | Удалить все пробелы и знаки табуляции вокруг текущего положения курсора |
| C-q | Вставить символ, соответствующий нажатой клавише или сочетанию |
| M-q | Выровнять текст в текущем параграфе буфера |

**Таблица 9.3 Основные комбинации клавиш для работы с выделенной областью текста в Emacs**

| Комбинация клавиш | Действие |
|-------------------|----------|
| C-space | Начать выделение текста с текущего положения курсора |
| C-w | Удалить выделенную область текста в список удалений |
| M-w | Скопировать выделенную область текста в список удалений |
| C-y | Вставить текст из списка удалений в текущую позицию курсора |
| M-y | Последовательно вставить текст из списка удалений |
| M-\ | Выровнять строки выделенной области текста |

### Регулярные выражения

При работе с командами Emacs можно использовать регулярные выражения (табл. 9.8). Основные отличия от PCRE (Perl Compatible Regular Expressions — библиотека регулярных выражений в стиле Perl):

- \\s не задаёт пробел;
- \\t не задаёт табуляцию;
- операция «или» и скобки группировки экранируются.

**Таблица 9.4 Основные комбинации клавиш для поиска и замены в Emacs**

| Комбинация клавиш | Действие |
|-------------------|----------|
| C-s текст поиска | Поиск текста в прямом направлении |
| C-r текст поиска | Поиск текста в обратном направлении |
| M-% | Поиск текста и его замена с запросом (что на что заменить) |

**Таблица 9.5 Основные комбинации клавиш для работы с файлами, буферами и окнами в Emacs**

| Комбинация клавиш | Действие |
|-------------------|----------|
| C-x C-f | Открыть файл |
| C-x C-s | Сохранить текст в буфер |
| C-x C-b | Отобразить список открытых буферов в новом окне |
| C-x b | Переключиться в другой буфер в текущем окне |
| C-x i | Вставить содержимое файла в буфер в текущую позицию курсора |
| C-x 0 | Закрыть текущее окно (при этом буфер не удаляется) |
| C-x 1 | Закрыть все окна кроме текущего |
| C-x 2 | Разделить окно по горизонтали |
| C-x o | Перейти в другое окно |

# Выполнение лабораторной работы

1. Открыть emacs.
	![Открыть emacs](image/image_2.png){#fig:001 width=70%}

2. Создать файл lab07.sh.
	![Создать файл](image/image_3.png){#fig:002 width=70%}

3. Наберите текст.
	![Набор текста](image/image_4.png){#fig:003 width=70%}

4. Сохранить файл.
	![Название рисунка](image/image_6.png){#fig:004 width=70%}

5. Проделать с текстом стандартные процедуры редактирования, каждое действие должно осуществляться комбинацией клавиш.
	
	5. 1. Вырезать одной командой целую строку (С-k)
		![Вырезать одной командой целую строку](image/image_8.png){#fig:005 width=70%}
	
	5. 2. Вставить эту строку в конец файла (C-y).
		![Вставить эту строку в конец файла](image/image_9.png){#fig:006 width=70%}
	
	5. 3. Выделить область текста (C-space).
		![Выделить область текста](image/image_11.png){#fig:007 width=70%}
	
	5. 4. Скопировать область в буфер обмена (M-w).
		![Скопировать область в буфер обмена](image/image_11.png){#fig:008 width=70%}
	
	5. 5. Вставить область в конец файла.
		![Вставить область в конец файла](image/image_12.png){#fig:009 width=70%}
	
	5. 6. Вновь выделить эту область и на этот раз вырезать её (C-w).
		![Вновь выделить эту область и на этот раз вырезать её](image/image_14.png){#fig:010 width=70%}
	
	5. 7. Отмените последнее действие (C-/).
		![Отмените последнее действие](image/image_15.png){#fig:011 width=70%}

6. Научитесь использовать команды по перемещению курсора.
	
	6. 1. Переместите курсор в начало строки (C-a).
		![Переместите курсор в начало строки](image/image_16.png){#fig:012 width=70%}
	
	6. 2. Переместите курсор в конец строки (C-e).
		![Переместите курсор в конец строки](image/image_17.png){#fig:013 width=70%}
	
	6. 3. Переместите курсор в начало буфера (M-<).
		![Переместите курсор в начало буфера](image/image_18.png){#fig:014 width=70%}
	
	6. 4. Переместите курсор в конец буфера (M->).
		![Переместите курсор в конец буфера](image/image_19.png){#fig:015 width=70%}

7. Управление буферами.
	
	7.	1. Вывести список активных буферов на экран.
		![Вывести список активных буферов на экран](image/image_20.png){#fig:016 width=70%}
	
	7. 2. Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер.
		![Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер](image/image_21.png){#fig:017 width=70%}
	
	7. 3. Закройте это окно (C-x 0).
		![Закройте это окно](image/image_23.png){#fig:018 width=70%}
	
	7. 4. Теперь вновь переключайтесь между буферами, но уже без вывода их спискана экран (C-x b).
		![Теперь вновь переключайтесь между буферами, но уже без вывода их спискана экран](image/image_24.png){#fig:019 width=70%}

8. Управление окнами.
	
	8. 1. Поделите фрейм на 4 части: разделите фрейм на два окна по вертикали (C-x 3), а затем каждое из этих окон на две части по горизонтали (C-x 2).
		![Поделите фрейм на 4 части](image/image_25.png){#fig:020 width=70%}
		![Поделите фрейм на 4 части](image/image_26.png){#fig:021 width=70%}
	
	8. 2. В каждом из четырёх созданных окон откройте новый буфер (файл) и введите несколько строк текста.

9. Режим поиска.
	
	9. 1. Переключитесь в режим поиска (C-s) и найдите несколько слов, присутствующих в тексте.
		![Название рисунка](image/image_27.png){#fig:022 width=70%}
	
	9. 2. Переключайтесь между результатами поиска, нажимая C-s.
	
	9. 3. Выйдите из режима поиска, нажав C-g.
		![Название рисунка](image/image_28.png){#fig:023 width=70%}
	
	9. 4. Перейдите в режим поиска и замены (M-%), введите текст, который следует найти и заменить, нажмите Enter, затем введите текст для замены. После того как будут подсвечены результаты поиска, нажмите ! для подтверждения замены.
	
	9. 5. Испробуйте другой режим поиска, нажав M-s o. Объясните,чем он отличается от обычного режима?.
		![другой режим поиска](image/image_29.png){#fig:024 width=70%}
		Данный вид поиска использует регулярные выражения вместо слов

Контрольные вопросы:

1. Emacs - это текстовый редактор, который широко используется в Unix-подобных операционных системах. Он предоставляет обширный набор функций, включая возможность автоматической подсветки синтаксиса для различных языков программирования, множество расширений и настраиваемость, которые делают его одним из наиболее мощных и гибких текстовых редакторов в мире. Emacs также имеет режимы, специально настроенные для работы с различными языками программирования, электронной почтой и новостными группами, и многое другое. Он также имеет многострочный интерфейс, который позволяет пользователям работать с несколькими файлами одновременно, используя различные комбинации клавиш и сокращений. Emacs - это свободное программное обеспечение, распространяемое по лицензии GNU GPL.
2. Emacs имеет довольно высокий порог вхождения и может быть сложным для освоения новичком по нескольким причинам:
		* Клавиатурные комбинации: Emacs использует множество комбинаций клавиш для выполнения различных функций, что может быть непривычным для новичков. Некоторые комбинации могут быть достаточно сложными и могут потребовать от пользователя определенной практики и запоминания.
		* Настройка: Emacs предоставляет множество возможностей для настройки, что может быть как преимуществом, так и недостатком для новичка. Необходимость настройки может быть непривычной для пользователей, которые привыкли работать с редакторами, которые уже настроены по умолчанию.
		* Интерфейс: Emacs имеет свой собственный интерфейс, который может отличаться от того, к которому привык пользователь. Все команды и настройки могут быть выполнены через интерфейс Emacs, что может отвлекать новичка от его основной работы.
		* Обширность: Emacs имеет множество функций и возможностей, что может быть сложным для освоения новичком. Некоторые функции могут быть довольно специализированными и могут не пригодиться новичку, что может сбить его с толку.

Кроме того, из-за того, что Emacs является довольно старой программой, его дизайн и структура могут быть сложными для понимания новичком, особенно если он не знаком с легаси кодом.

3. Буфер в Emacs - это область памяти, в которой хранится содержимое открытого файла. Каждый открытый файл имеет свой собственный буфер в Emacs, который содержит текст, который можно редактировать и сохранять. Окно в Emacs - это область экрана, в которой отображается содержимое одного или нескольких буферов. В Emacs можно открыть несколько окон на экране, каждое из которых может отображать содержимое разных буферов. Можно перемещаться между окнами и переключаться между ними для удобства просмотра и редактирования текста.
4. По умолчанию Emacs ограничивает количество буферов, отображаемых в одном окне, до 10, чтобы избежать слишком много буферов на экране, что может затруднить навигацию. Однако этот параметр может быть изменен в конфигурационном файле Emacs, чтобы увеличить количество отображаемых буферов в окне.
5. Когда вы запускаете Emacs, он создает несколько буферов по умолчанию. Эти буферы представляют собой некоторые стандартные режимы работы, которые часто используются при работе в Emacs. Вот некоторые из них:

	* Буфер scratch - это буфер, который открывается по умолчанию в Emacs. В нем можно писать произвольный текст, экспериментировать с кодом, и т.д. Этот буфер используется для быстрого доступа к произвольным записям и не сохраняется после выхода из Emacs.
	* Буфер Messages - это буфер, в котором выводятся сообщения об ошибках, предупреждениях и других информационных сообщениях Emacs.
	* Буфер scratch-<n> - при запуске Emacs можно указать количество буферов scratch с помощью аргумента командной строки --scratch <n>. В этом случае будут созданы несколько буферов scratch с именами scratch-1, scratch-2, и т.д.
	* Буфер GNU Emacs - это буфер, в котором выводится информация о версии и лицензии Emacs.
	* Буфер Help - это буфер, в котором отображается справочная информация о командах и настройках Emacs.

	Кроме того, при запуске Emacs может быть открыт буфер с последним открытым файлом или списком файлов, которые были открыты в предыдущей сессии. В целом, эти буферы позволяют быстро начать работу с Emacs и предоставляют информацию, которая может быть полезна при работе в редакторе.
6. Чтобы ввести комбинацию C-c |, нужно нажать следующие клавиши:

	* Нажмите клавишу "Ctrl" (или "Control" в некоторых системах)
	* Нажмите клавишу "c"
	* Отпустите клавиши "Ctrl" и "c"
	* Нажмите клавишу "|"

	Чтобы ввести комбинацию C-c C-|, нужно нажать следующие клавиши:

	* Нажмите клавишу "Ctrl" (или "Control" в некоторых системах)
	* Нажмите клавишу "c"
	* Отпустите клавиши "Ctrl" и "c"
	* Нажмите клавишу "Ctrl" и удерживая её, нажмите клавишу "|"
7. Чтобы поделить текущее окно на две части в Emacs, можно использовать комбинацию клавиш C-x 3. Также можно поделить окно вертикально на две части, используя комбинацию клавиш C-x 2. В этом случае, текущее окно будет разделено на две части по вертикали, а каждая из частей будет отображать тот же буфер.
8. Настройки редактора Emacs хранятся в файле с именем ".emacs" в домашней директории пользователя.
9. Клавиша Backspace на клавиатуре выполняет функцию удаления символа перед курсором или, если курсор находится в начале строки, переноса на предыдущую строку. В Emacs, клавиша Backspace по умолчанию эквивалентна комбинации клавиш Ctrl-h. Эта комбинация также используется для вызова справки.
10. На мой взгляд, Emacs предлагает более широкий спектр функциональности и более удобный интерфейс для работы с текстом и кодом, что делает его более привлекательным для профессиональных разработчиков и продвинутых пользователей.


# Выводы

Познакомился с операционной системой Linux. Получил практические навыки работы с редактором Emacs.

# Список литературы{.unnumbered}

::: {#refs}
:::
